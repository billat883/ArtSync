(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[718],{5936:function(e,t,a){Promise.resolve().then(a.bind(a,726))},726:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return N}});var n=a(7437),i=a(4418),s=a(2706),l=a(2265),r=a(4552),o=a(9868),c=a(6822),d=a(8113),m=a(7648),x=a(4114);async function h(e){let t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySW5mb3JtYXRpb24iOnsiaWQiOiIxNTdkZjg5OS0wZjNhLTQxYTUtOTEyMi02YTAxNGM1ZDVjNmQiLCJlbWFpbCI6InN1bmpmNjI2QGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJwaW5fcG9saWN5Ijp7InJlZ2lvbnMiOlt7ImRlc2lyZWRSZXBsaWNhdGlvbkNvdW50IjoxLCJpZCI6IkZSQTEifSx7ImRlc2lyZWRSZXBsaWNhdGlvbkNvdW50IjoxLCJpZCI6Ik5ZQzEifV0sInZlcnNpb24iOjF9LCJtZmFfZW5hYmxlZCI6ZmFsc2UsInN0YXR1cyI6IkFDVElWRSJ9LCJhdXRoZW50aWNhdGlvblR5cGUiOiJzY29wZWRLZXkiLCJzY29wZWRLZXlLZXkiOiI0M2U5N2ZmMDI1YmUzY2Q3NzJiMiIsInNjb3BlZEtleVNlY3JldCI6IjlhMTViY2I2ZmZkZjE4YWVlZDUwM2I5Zjk1ZTMzZDIyOTBjYTI2YmM2MzU3NWI2ODM1ODkyMGRjNzZiMjZmYTciLCJleHAiOjE3OTE1OTQwNzB9.bLafx4ZoPiKe8Yew08DlqFHhNW7Aaz74dLCoOxc_264";if(!t)throw Error("Missing NEXT_PUBLIC_PINATA_JWT");let a=await fetch("https://api.pinata.cloud/pinning/pinJSONToIPFS",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({pinataContent:e})});if(!a.ok)throw Error("Pinata upload failed");return(await a.json()).IpfsHash}function N(){let{provider:e,chainId:t,isConnected:a,ethersSigner:N,initialMockChains:f}=(0,i.D)(),{instance:b}=(0,s.a)({provider:e,chainId:t,enabled:!0,initialMockChains:f}),[p,u]=(0,l.useState)(""),[j,I]=(0,l.useState)(""),[g,w]=(0,l.useState)(""),[E,k]=(0,l.useState)(""),[v,C]=(0,l.useState)(""),[T,y]=(0,l.useState)(!0),[Z,O]=(0,l.useState)(!1),[S,W]=(0,l.useState)(void 0),[L,_]=(0,l.useState)(""),D=t?d.H[t.toString()]:void 0,M=(null==D?void 0:D.address)&&D.address!==r.N?D.address:void 0,J=async()=>{if(!a||!N||!M){_("⚠️ Please connect wallet or deploy contract");return}if(!p||!j||!E||!v){_("⚠️ Please fill in all required fields");return}try{O(!0),_("\uD83D\uDCE4 Uploading to IPFS...");let e=await h({title:p,location:j,description:g}),t=new o.CH(M,c.O.abi,N);_("⛓️ Creating on-chain exhibition...");let a=await t.scheduleExhibit(e,Math.floor(new Date(E).getTime()/1e3),Math.floor(new Date(v).getTime()/1e3),T);_("⏳ Waiting for transaction confirmation..."),await a.wait();let n=Number(await t.nextExhibitId())-1;W(n),_("✅ Created successfully!")}catch(e){_("❌ Creation failed: ".concat(e.message||"Unknown error"))}finally{O(!1)}};return(0,n.jsxs)("div",{className:"min-h-screen relative",children:[(0,n.jsx)("div",{className:"scanline"}),(0,n.jsx)(x.w,{}),(0,n.jsxs)("main",{className:"relative z-10 pt-24 mx-auto max-w-4xl px-6 py-12",children:[(0,n.jsxs)("div",{className:"mb-8",children:[(0,n.jsx)("div",{className:"inline-block border border-primary/50 px-3 py-1 text-xs font-mono tracking-[0.2em] text-primary mb-4",children:"CREATE_EXHIBIT"}),(0,n.jsx)("h2",{className:"text-5xl font-bold font-mono mb-3 tracking-tight",children:"NEW_EXHIBITION"}),(0,n.jsx)("p",{className:"text-white/50 font-mono text-sm tracking-wider",children:"Fill in metadata and deploy on-chain"})]}),void 0!==S?(0,n.jsxs)("div",{className:"card text-center space-y-6 p-12",children:[(0,n.jsx)("div",{className:"text-6xl mb-4",children:"✓"}),(0,n.jsx)("h3",{className:"text-3xl font-bold font-mono tracking-wider",children:"DEPLOYMENT_SUCCESS"}),(0,n.jsxs)("p",{className:"text-white/70 font-mono",children:["EXHIBIT_ID: #",S]}),(0,n.jsxs)("div",{className:"flex gap-4 justify-center",children:[(0,n.jsx)(m.default,{href:"/event/".concat(S),className:"btn-gradient font-mono text-sm tracking-wider",children:"VIEW_DETAILS"}),(0,n.jsx)(m.default,{href:"/organizer/qr?id=".concat(S),className:"btn-primary font-mono text-sm tracking-wider",children:"GENERATE_QR"})]}),(0,n.jsx)("button",{onClick:()=>{W(void 0),u(""),I(""),w(""),k(""),C(""),_("")},className:"btn-primary font-mono text-sm tracking-wider mt-4",children:"CREATE_ANOTHER"})]}):(0,n.jsxs)("div",{className:"card space-y-6 p-8",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs font-mono mb-2 text-white/60 tracking-wider",children:"TITLE *"}),(0,n.jsx)("input",{className:"input-field font-mono",placeholder:"e.g. On-Chain Art Exhibition 2025",value:p,onChange:e=>u(e.target.value)})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs font-mono mb-2 text-white/60 tracking-wider",children:"LOCATION *"}),(0,n.jsx)("input",{className:"input-field font-mono",placeholder:"e.g. Museum of Contemporary Art",value:j,onChange:e=>I(e.target.value)})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs font-mono mb-2 text-white/60 tracking-wider",children:"DESCRIPTION"}),(0,n.jsx)("textarea",{className:"input-field resize-none font-mono text-sm",rows:3,placeholder:"Brief introduction to exhibition theme and artworks...",value:g,onChange:e=>w(e.target.value)})]}),(0,n.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs font-mono mb-2 text-white/60 tracking-wider",children:"START_TIME *"}),(0,n.jsx)("input",{type:"datetime-local",className:"input-field font-mono text-sm",value:E,onChange:e=>k(e.target.value)})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs font-mono mb-2 text-white/60 tracking-wider",children:"END_TIME *"}),(0,n.jsx)("input",{type:"datetime-local",className:"input-field font-mono text-sm",value:v,onChange:e=>C(e.target.value)})]})]}),(0,n.jsx)("div",{className:"border border-white/20 p-4",children:(0,n.jsxs)("label",{className:"flex items-start gap-3 cursor-pointer",children:[(0,n.jsx)("input",{type:"checkbox",checked:T,onChange:e=>y(e.target.checked),className:"mt-1 w-4 h-4 border-white/20 bg-transparent checked:bg-primary"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"font-mono text-sm flex items-center gap-2 tracking-wider",children:"ENABLE_NFT_PASSES"}),(0,n.jsx)("p",{className:"text-xs text-white/50 mt-1 font-mono",children:"Mint art pass NFTs for attendees after check-in"})]})]})}),L&&(0,n.jsx)("div",{className:"p-4 border ".concat(L.includes("✅")?"border-green-400/50 bg-green-500/10":L.includes("❌")?"border-red-400/50 bg-red-500/10":"border-blue-400/50 bg-blue-500/10"),children:(0,n.jsx)("p",{className:"text-sm font-mono",children:L})}),(0,n.jsxs)("div",{className:"flex gap-4",children:[(0,n.jsx)("button",{disabled:Z||!a,onClick:J,className:"btn-gradient flex-1 disabled:opacity-30 font-mono text-sm tracking-wider",children:Z?"DEPLOYING...":"DEPLOY_EXHIBIT"}),(0,n.jsx)(m.default,{href:"/organizer",className:"btn-primary font-mono text-sm tracking-wider",children:"CANCEL"})]}),!a&&(0,n.jsx)("div",{className:"text-center text-yellow-300 text-xs font-mono tracking-wider",children:"⚠ WALLET_NOT_CONNECTED"})]})]})]})}}},function(e){e.O(0,[146,648,277,971,117,560],function(){return e(e.s=5936)}),_N_E=e.O()}]);