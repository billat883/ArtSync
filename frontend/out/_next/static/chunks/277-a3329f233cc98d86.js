"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{6822:function(e,t,n){n.d(t,{O:function(){return r}});let r={abi:[{inputs:[{internalType:"address",name:"artPassToken",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"exhibitId",type:"uint256"},{indexed:!0,internalType:"address",name:"attendee",type:"address"}],name:"CheckedIn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"exhibitId",type:"uint256"},{indexed:!0,internalType:"address",name:"organizer",type:"address"}],name:"ExhibitScheduled",type:"event"},{inputs:[],name:"artPass",outputs:[{internalType:"contract IArtPassToken",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"exhibitId",type:"uint256"},{internalType:"address",name:"user",type:"address"}],name:"canMintPass",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"exhibitId",type:"uint256"},{internalType:"bytes32",name:"oneEncrypted",type:"bytes32"},{internalType:"bytes",name:"inputProof",type:"bytes"}],name:"checkInEncrypted",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"exhibitId",type:"uint256"}],name:"getEncryptedAttendance",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"exhibitId",type:"uint256"}],name:"getExhibit",outputs:[{components:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"address",name:"organizer",type:"address"},{internalType:"string",name:"metadataCID",type:"string"},{internalType:"uint64",name:"startTime",type:"uint64"},{internalType:"uint64",name:"endTime",type:"uint64"},{internalType:"bool",name:"enablePass",type:"bool"},{internalType:"bytes32",name:"encryptedCount",type:"bytes32"}],internalType:"struct ArtExpoFHE.Exhibit",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"exhibitId",type:"uint256"}],name:"getExhibitHeader",outputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"address",name:"organizer",type:"address"},{internalType:"string",name:"metadataCID",type:"string"},{internalType:"uint64",name:"startTime",type:"uint64"},{internalType:"uint64",name:"endTime",type:"uint64"},{internalType:"bool",name:"enablePass",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"exhibitId",type:"uint256"},{internalType:"address",name:"user",type:"address"}],name:"hasCheckedIn",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"exhibitId",type:"uint256"}],name:"mintPass",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"nextExhibitId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"metadataCID",type:"string"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"bool",name:"enablePass",type:"bool"}],name:"scheduleExhibit",outputs:[{internalType:"uint256",name:"exhibitId",type:"uint256"}],stateMutability:"nonpayable",type:"function"}]}},8113:function(e,t,n){n.d(t,{H:function(){return r}});let r={11155111:{chainId:11155111,chainName:"sepolia",address:"0xb28DBf343c94c7600ba7e7A48Ec27a1d6e308857"}}},4114:function(e,t,n){n.d(t,{w:function(){return o}});var r=n(7437),i=n(7648),a=n(4418);function o(){let{isConnected:e,connect:t,accounts:n,chainId:o}=(0,a.D)(),s=null==n?void 0:n[0],l=s?"".concat(s.slice(0,6),"...").concat(s.slice(-4)):"";return(0,r.jsx)("header",{className:"fixed top-0 left-0 right-0 z-50 border-b border-white/10 bg-black/80 backdrop-blur-md",children:(0,r.jsxs)("div",{className:"mx-auto max-w-7xl px-6 py-4 flex items-center justify-between",children:[(0,r.jsxs)(i.default,{href:"/",className:"flex items-center gap-3 group relative",children:[(0,r.jsx)("div",{className:"w-12 h-12 border-2 border-primary flex items-center justify-center font-bold text-2xl text-primary group-hover:border-techblue group-hover:text-techblue transition-all duration-300 font-mono",children:"A"}),(0,r.jsxs)("div",{className:"leading-tight",children:[(0,r.jsx)("div",{className:"font-bold text-xl tracking-widest font-mono",children:"ARTSYNC"}),(0,r.jsx)("div",{className:"text-[10px] text-white/50 tracking-[0.2em] font-mono",children:"FHE_EXPO"})]})]}),(0,r.jsxs)("nav",{className:"flex items-center gap-1",children:[(0,r.jsx)(i.default,{href:"/organizer",className:"px-4 py-2 border border-transparent hover:border-white/20 transition-all text-sm font-mono tracking-wider",children:"[ORGANIZE]"}),(0,r.jsx)(i.default,{href:"/explore",className:"px-4 py-2 border border-transparent hover:border-white/20 transition-all text-sm font-mono tracking-wider",children:"[EXPLORE]"}),(0,r.jsx)(i.default,{href:"/badges",className:"px-4 py-2 border border-transparent hover:border-white/20 transition-all text-sm font-mono tracking-wider",children:"[PASSES]"}),(0,r.jsx)("div",{className:"w-px h-6 bg-white/20 mx-2"}),e?(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("span",{className:"badge-success",children:[(0,r.jsx)("span",{className:"w-1.5 h-1.5 bg-green-400"}),l]}),(0,r.jsx)("span",{className:"badge-info",children:o})]}):(0,r.jsx)("button",{className:"btn-gradient px-4 py-2 text-sm font-mono",onClick:t,children:"[CONNECT]"})]})]})})}},2706:function(e,t,n){let r,i,a,o,s;n.d(t,{a:function(){return G}});var l=n(2265),u=n(9222),c=n(3876);let d="https://cdn.zama.ai/relayer-sdk-js/0.2.0/relayer-sdk-js.umd.cjs";class p{isLoaded(){return m(window,this._trace)}load(){if("relayerSDK"in window){if(!f(window.relayerSDK,this._trace))throw Error("RelayerSDKLoader: invalid relayerSDK");return Promise.resolve()}return new Promise((e,t)=>{if(document.querySelector('script[src="'.concat(d,'"]'))){m(window,this._trace)||t(Error("RelayerSDKLoader: invalid window.relayerSDK")),e();return}let n=document.createElement("script");n.src=d,n.async=!0,n.type="text/javascript",n.onload=()=>{m(window,this._trace)?e():t(Error("RelayerSDK script invalid"))},n.onerror=()=>t(Error("Failed to load Relayer SDK from ".concat(d))),document.head.appendChild(n)})}constructor(e){this._trace=e.trace}}function y(e,t,n,r){if(!e||"object"!=typeof e)return!1;if(!(t in e))return null==r||r("missing ".concat(String(t))),!1;let i=e[t];return null!=i&&typeof i===n}function f(e,t){return"object"!=typeof e||null===e?(null==t||t("relayerSDK invalid"),!1):!!(y(e,"initSDK","function",t)&&y(e,"createInstance","function",t)&&y(e,"SepoliaConfig","object",t))}function m(e,t){return"object"!=typeof e||null===e?(null==t||t("window invalid"),!1):"relayerSDK"in e?f(e.relayerSDK,t):(null==t||t("missing relayerSDK"),!1)}let h=(e,t)=>t.some(t=>e instanceof t),b=new WeakMap,w=new WeakMap,v=new WeakMap,g={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return b.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return x(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function x(e){var t;if(e instanceof IDBRequest)return function(e){let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(x(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)});return v.set(t,e),t}(e);if(w.has(e))return w.get(e);let n="function"==typeof(t=e)?(i||(i=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(E(this),e),x(this.request)}:function(...e){return x(t.apply(E(this),e))}:(t instanceof IDBTransaction&&function(e){if(b.has(e))return;let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});b.set(e,t)}(t),h(t,r||(r=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])))?new Proxy(t,g):t;return n!==e&&(w.set(e,n),v.set(n,e)),n}let E=e=>v.get(e),S=["get","getKey","getAll","getAllKeys","count"],I=["put","add","delete","clear"],T=new Map;function D(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t))return;if(T.get(t))return T.get(t);let n=t.replace(/FromIndex$/,""),r=t!==n,i=I.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||S.includes(n)))return;let a=async function(e,...t){let a=this.transaction(e,i?"readwrite":"readonly"),o=a.store;return r&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),i&&a.done]))[0]};return T.set(t,a),a}g={...o=g,get:(e,t,n)=>D(e,t)||o.get(e,t,n),has:(e,t)=>!!D(e,t)||o.has(e,t)};let k=["continue","continuePrimaryKey","advance"],j={},C=new WeakMap,K=new WeakMap,M={get(e,t){if(!k.includes(t))return e[t];let n=j[t];return n||(n=j[t]=function(...e){C.set(this,K.get(this)[t](...e))}),n}};async function*P(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;let n=new Proxy(t,M);for(K.set(n,t),v.set(n,E(t));t;)yield n,t=await (C.get(n)||t.continue()),C.delete(n)}function _(e,t){return t===Symbol.asyncIterator&&h(e,[IDBIndex,IDBObjectStore,IDBCursor])||"iterate"===t&&h(e,[IDBIndex,IDBObjectStore])}async function A(){return a||(a=function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){let o=indexedDB.open(e,1),s=x(o);return r&&o.addEventListener("upgradeneeded",e=>{r(x(o.result),e.oldVersion,e.newVersion,x(o.transaction),e)}),n&&o.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{a&&e.addEventListener("close",()=>a()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}("fhevm",0,{upgrade(e){e.objectStoreNames.contains("paramsStore")||e.createObjectStore("paramsStore",{keyPath:"acl"}),e.objectStoreNames.contains("publicKeyStore")||e.createObjectStore("publicKeyStore",{keyPath:"acl"})}}))}async function N(e){let t=await A();if(!t)return{publicParams:null};let n=null;try{let r=await t.get("publicKeyStore",e);(null==r?void 0:r.value)&&(n=r.value)}catch(e){}let r=null;try{let n=await t.get("paramsStore",e);(null==n?void 0:n.value)&&(r=n.value)}catch(e){}let i=null==n?void 0:n.publicKey,a=null==n?void 0:n.publicKeyId,o=r?{2048:r}:null,s=a&&i?{id:a,data:i}:void 0;return{...void 0!==s&&{publicKey:s},publicParams:o}}async function R(e,t,n){let r=await A();r&&(t&&await r.put("publicKeyStore",{acl:e,value:t}),n&&await r.put("paramsStore",{acl:e,value:n}))}g={...s=g,get:(e,t,n)=>_(e,t)?P:s.get(e,t,n),has:(e,t)=>_(e,t)||s.has(e,t)};class L extends Error{constructor(e,t,n){super(t),n&&"cause"in n&&(this.cause=n.cause),this.code=e,this.name="FhevmReactError"}}function B(e,t,n){throw new L(e,t,n?{cause:n}:void 0)}let O=()=>!!m(window,console.log)&&!0===window.relayerSDK.__initialized__,V=()=>new p({trace:console.log}).load(),z=async e=>{if(!m(window,console.log))throw Error("window.relayerSDK is not available");let t=await window.relayerSDK.initSDK(e);if(window.relayerSDK.__initialized__=t,!t)throw Error("relayerSDK.initSDK failed");return!0};async function W(e){if("string"==typeof e){let t=new u.r6(e);return Number((await t.getNetwork()).chainId)}return Number.parseInt(await e.request({method:"eth_chainId"}),16)}async function q(e){let t=new u.r6(e);try{return await t.send("web3_clientVersion",[])}catch(t){B("WEB3_CLIENTVERSION_ERROR","The URL ".concat(e," is not a Web3 node or unreachable."),t)}finally{t.destroy()}}async function F(e){let t=await q(e);if("string"==typeof t&&t.toLowerCase().includes("hardhat"))try{let t=await H(e);if(!t||"object"!=typeof t||!("ACLAddress"in t&&"string"==typeof t.ACLAddress&&t.ACLAddress.startsWith("0x"))||!("InputVerifierAddress"in t&&"string"==typeof t.InputVerifierAddress&&t.InputVerifierAddress.startsWith("0x"))||!("KMSVerifierAddress"in t&&"string"==typeof t.KMSVerifierAddress&&t.KMSVerifierAddress.startsWith("0x")))return;return t}catch(e){return}}async function H(e){let t=new u.r6(e);try{return await t.send("fhevm_relayer_metadata",[])}catch(t){B("FHEVM_RELAYER_METADATA_ERROR","The URL ".concat(e," is not a FHEVM Hardhat node or unreachable."),t)}finally{t.destroy()}}async function U(e,t){let n=await W(e),r="string"==typeof e?e:void 0,i={31337:"http://localhost:8545",...null!=t?t:{}};return Object.prototype.hasOwnProperty.call(i,n)?(r||(r=i[n]),{isMock:!0,chainId:n,rpcUrl:r}):{isMock:!1,chainId:n,rpcUrl:r}}let Y=async e=>{let{signal:t,onStatusChange:r,provider:i,mockChains:a}=e,o=()=>{if(t.aborted)throw Error("aborted")},s=e=>null==r?void 0:r(e),{isMock:l,rpcUrl:u,chainId:d}=await U(i,a);if(l){let e=await F(u);if(e){s("creating");let t=await Promise.all([n.e(437),n.e(428)]).then(n.bind(n,2428)),r=await t.fhevmMockCreateInstance({rpcUrl:u,chainId:d,metadata:e});return o(),r}}o(),m(window,console.log)||(s("sdk-loading"),await V(),o(),s("sdk-loaded")),O()||(s("sdk-initializing"),await z(),o(),s("sdk-initialized"));let p=window.relayerSDK,y=p.SepoliaConfig.aclContractAddress;if("string"!=typeof y||!(0,c.UJ)(y))throw Error("Invalid address: ".concat(y));let f=await N(y);o();let h={...p.SepoliaConfig,network:i,publicKey:f.publicKey,publicParams:f.publicParams};s("creating");let b=await p.createInstance(h);return await R(y,b.getPublicKey(),b.getPublicParams(2048)),o(),b};function X(e,t){if(!e){let e=t?"Assertion failed: ".concat(t):"Assertion failed.";throw console.error(e),Error(e)}}function G(e){let{provider:t,chainId:n,initialMockChains:r,enabled:i=!0}=e,[a,o]=(0,l.useState)(void 0),[s,u]=(0,l.useState)("idle"),[c,d]=(0,l.useState)(void 0),[p,y]=(0,l.useState)(i),[f,m]=(0,l.useState)(0),h=(0,l.useRef)(null),b=(0,l.useRef)(t),w=(0,l.useRef)(n),v=(0,l.useRef)(r),g=(0,l.useCallback)(()=>{h.current&&(b.current=void 0,w.current=void 0,h.current.abort(),h.current=null),b.current=t,w.current=n,o(void 0),d(void 0),u("idle"),void 0!==t&&m(e=>e+1)},[t,n]);return(0,l.useEffect)(()=>{g()},[g]),(0,l.useEffect)(()=>{y(i)},[i]),(0,l.useEffect)(()=>{if(!1===p){h.current&&(h.current.abort(),h.current=null),o(void 0),d(void 0),u("idle");return}if(!0===p){if(void 0===b.current){o(void 0),d(void 0),u("idle");return}h.current||(h.current=new AbortController),X(!h.current.signal.aborted,"!controllerRef.current.signal.aborted"),u("loading"),d(void 0);let e=h.current.signal,t=b.current;Y({signal:e,provider:t,mockChains:v.current,onStatusChange:e=>console.log("[useFhevm] status: ".concat(e))}).then(n=>{e.aborted||(X(t===b.current,"thisProvider === _providerRef.current"),o(n),d(void 0),u("ready"))}).catch(n=>{e.aborted||(X(t===b.current,"thisProvider === _providerRef.current"),o(void 0),d(n),u("error"))})}},[p,f]),{instance:a,refresh:g,error:c,status:s}}},4418:function(e,t,n){n.d(t,{D:function(){return c},c:function(){return u}});var r=n(7437),i=n(9146),a=n(9222),o=n(2265),s=n(4744);let l=(0,o.createContext)(void 0);function u(e){let{children:t,initialMockChains:n}=e,u=function(e){let{initialMockChains:t}=e,{provider:n,chainId:r,accounts:l,isConnected:u,connect:c,error:d}=(0,s._)(),[p,y]=(0,o.useState)(void 0),[f,m]=(0,o.useState)(void 0),[h,b]=(0,o.useState)(void 0),w=(0,o.useRef)(r),v=(0,o.useRef)(void 0),g=(0,o.useRef)(e=>e===w.current),x=(0,o.useRef)(e=>e===v.current);return(0,o.useEffect)(()=>{w.current=r},[r]),(0,o.useEffect)(()=>{if(!n||!r||!u||!l||0===l.length){v.current=void 0,y(void 0),m(void 0),b(void 0);return}let e=new i.Q(n),o=e,s=null==t?void 0:t[r];s&&(o=new a.r6(s));let c=new a.C1(e,l[0]);v.current=c,y(c),m(e),b(o)},[n,r,u,l,t]),{sameChain:g,sameSigner:x,provider:n,chainId:r,accounts:l,isConnected:u,connect:c,ethersBrowserProvider:f,ethersReadonlyProvider:h,ethersSigner:p,error:d,initialMockChains:t}}({initialMockChains:n});return(0,r.jsx)(l.Provider,{value:u,children:t})}function c(){let e=(0,o.useContext)(l);if(!e)throw Error("useMetaMaskEthersSigner must be used within MetaMaskEthersSignerProvider");return e}},4744:function(e,t,n){n.d(t,{Y:function(){return o},_:function(){return s}});var r=n(7437),i=n(2265);let a=(0,i.createContext)(void 0);function o(e){let{children:t}=e,[n,o]=(0,i.useState)(void 0),[s,l]=(0,i.useState)(void 0),[u,c]=(0,i.useState)(void 0),[d,p]=(0,i.useState)(void 0);(0,i.useEffect)(()=>{let e=window;e.ethereum&&o(e.ethereum)},[]);let y=(0,i.useCallback)(async()=>{if(n)try{let e=await n.request({method:"eth_chainId"});l(parseInt(e,16));let t=await n.request({method:"eth_accounts"});c(t),p(void 0)}catch(e){p(e)}},[n]);(0,i.useEffect)(()=>{y()},[y]);let f=(0,i.useCallback)(async()=>{if(n)try{let e=await n.request({method:"eth_requestAccounts"});c(e),await y()}catch(e){p(e)}},[n,y]),m=(0,i.useMemo)(()=>{var e;return(null!==(e=null==u?void 0:u.length)&&void 0!==e?e:0)>0},[u]);return(0,r.jsx)(a.Provider,{value:{provider:n,chainId:s,accounts:u,isConnected:m,error:d,connect:f},children:t})}function s(){let e=(0,i.useContext)(a);if(!e)throw Error("useMetaMask must be used within MetaMaskProvider");return e}}}]);